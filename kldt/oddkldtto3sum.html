<!DOCTYPE html><html lang="en"><head><title>kldt/oddkldtto3sum</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="kldt/oddkldtto3sum"><meta name="groc-project-path" content="js/src/kldt/oddkldtto3sum.js"><meta name="groc-github-url" content="https://github.com/aureooms/js-algorithms"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/aureooms/js-algorithms/blob/master/js/src/kldt/oddkldtto3sum.js">js/src/kldt/oddkldtto3sum.js</a></div></div><div id="document"><div class="segment"></div><div class="segment"><div class="comments doc-section"><div class="wrapper"><p>Transforms an instance of the one-set version of kLDT with k &gt;= 3 odd into
a three-set version of 3SUM.</p>
<p>Parameters:</p>
<ul>
<li><p><strong>S must be a set.</strong><br/>(is the input set for the kLDT problem)</p>
</li>
<li><p><strong>a must be a coefficients.</strong><br/>(is the array of coefficients)</p>
</li>
<li><p><strong>A must be a set.</strong><br/>(is one of the input set for 3SUM)</p>
</li>
<li><p><strong>B must be a set.</strong><br/>(is one of the input set for 3SUM)</p>
</li>
<li><p><strong>C must be a set.</strong><br/>(is one of the input set for 3SUM notes: - n = Sj - Si - k = aj - ai - 1 - a_0 = a[ai] - A and B must be of size n^((k-1)/2) each - A and B must be initialized to 0 ... 0 - C must be of size n)</p>
</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">var</span> oddkldtto3sum = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"> S , Si , Sj , a , ai , aj , A , Ai , Aj , B , Bi , Bj , C , Ci , Cj </span>) </span>{

	<span class="hljs-keyword">var</span> i , j , p , q , n , halfk ;

	n = Sj - Si ;

	k = aj - ai - <span class="hljs-number">1</span> ;

	halfk = <span class="hljs-number">2</span> + ( k - <span class="hljs-number">1</span> ) / <span class="hljs-number">2</span> ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>We fill A and B for example with S = [ 1 , 2 , 3 ] and a = [ t , u , v , w , x , y ]</p></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><pre><code>  -----------------------------------------------------------------------</code></pre>
<h2 id="a-v-1-v-2-v-3-v-1-v-2-v-3-v-1-v-2-v-3-">A += | v <em> 1 | v </em> 2 | v <em> 3 | v </em> 1 | v <em> 2 | v </em> 3 | v <em> 1 | v </em> 2 | v * 3 |</h2>
<pre><code>  -----------------------------------------------------------------------</code></pre>
<h2 id="a-w-1-w-1-w-1-w-2-w-2-w-2-w-3-w-3-w-3-">A += | w <em> 1 | w </em> 1 | w <em> 1 | w </em> 2 | w <em> 2 | w </em> 2 | w <em> 3 | w </em> 3 | w * 3 |</h2></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">for</span> ( j = <span class="hljs-number">2</span> , i = <span class="hljs-number">1</span> ; j &lt; halfk ; ++j , i *= n ) {

		<span class="hljs-keyword">for</span> ( p = Ai , q = <span class="hljs-number">0</span> ; p &lt; Aj ; ++p , q = ( ( q + <span class="hljs-number">1</span> ) / i | <span class="hljs-number">0</span> ) % n ) {

			A[p] += a[ai + j] * S[Si + q] ;

		}

	}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><pre><code>  -----------------------------------------------------------------------</code></pre>
<h2 id="b-x-1-x-2-x-3-x-1-x-2-x-3-x-1-x-2-x-3-">B += | x <em> 1 | x </em> 2 | x <em> 3 | x </em> 1 | x <em> 2 | x </em> 3 | x <em> 1 | x </em> 2 | x * 3 |</h2>
<pre><code>  -----------------------------------------------------------------------</code></pre>
<h2 id="b-y-1-y-1-y-1-y-2-y-2-y-2-y-3-y-3-y-3-">B += | y <em> 1 | y </em> 1 | y <em> 1 | y </em> 2 | y <em> 2 | y </em> 2 | y <em> 3 | y </em> 3 | y * 3 |</h2></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">for</span> ( i = <span class="hljs-number">1</span> ; j &lt;= k ; ++j , i *= n ) {

		<span class="hljs-keyword">for</span> ( p = Bi , q = <span class="hljs-number">0</span> ; p &lt; Bj ; ++p , q = ( ( q + <span class="hljs-number">1</span> ) / i | <span class="hljs-number">0</span> ) % n ) {

			B[p] += a[ai + j] * S[Si + q] ;

		}

	}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>We fill C</p></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><pre><code>  -----------------------------------</code></pre>
<h2 id="c-u-1-t-u-2-t-u-3-t-">C &lt;- | u <em> 1 + t | u </em> 2 + t | u * 3 + t |</h2></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">for</span> ( q = <span class="hljs-number">0</span> ; q &lt; n ; ++q ) {

		C[Ci + q] = a[ai + <span class="hljs-number">1</span>] * S[Si + q] + a[ai] ;

	}

} ;

exports.oddkldtto3sum = oddkldtto3sum;</div></div></div></div></body></html>